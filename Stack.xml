<?xml version="1.0"?>
<!DOCTYPE level SYSTEM "level.dtd">
<!-- 
Sample XML level for Stack.java
Rough Draft
Steph Dietzel, May 2011
-->
<!-- In this file:
Nodes have even unique IDs, edged have odd UIDs. In real life, this could 
easily be replaced by some other scheme, such as Identity hashcodes. But for now, 
by hand, it's easier. 

Graph names are just the method name they represent. Later, this could change to unique
method names that take the method signature into account, because of method-overloading. 
-->
<level>
  <!-- edge IDs are the keys, list of edge IDs the value -->
  <linked-edges>
    <!-- theVector -->
    <set>
      <value id="1"/>
      <value id="5"/>
      <value id="9"/>
      <value id="13"/>
      <value id="17"/>
      <value id="29"/>
      <value id="33"/>
      <value id="37"/>
      <value id="41"/>
      <value id="45"/>
      <value id="51"/>
      <value id="57"/>
      <value id="61"/>
      <value id="65"/>
    </set>
    <!-- theVector.elts -->
    <set>
      <value id="3"/>
      <value id="7"/>
      <value id="11"/>
      <value id="15"/>
      <value id="19"/>
      <value id="21"/>
      <value id="31"/>
      <value id="35"/>
      <value id="39"/>
      <value id="43"/>
      <value id="47"/>
      <value id="53"/>
      <value id="55"/>
      <value id="59"/>
      <value id="63"/>
      <value id="67"/>
    </set>
    <!--top.return-->
    <set>
      <value id="23"/>
      <value id="25"/>
      <value id="27"/>
      <value id="69"/>
    </set>
    <!--topAndPop.return-->
    <set>
      <value id="71"/>
      <value id="73"/>
    </set>
    <!-- push.param1 -->
    <set>
      <value id="49"/>
    </set>
  </linked-edges>
  <!-- Each board needs to be put in a set of boards, and also a map from name to board (?)
	so that the subnetwork nodes can be efficiently clicked on. I can't think of a way to write
	out the map and set explicitly. Maybe just write the map, and Tim can take the value set
	at the end? Keys are the board names.-->
  <boards-map>
    <board name="constructor">
      <node kind="INCOMING" id="2">
        <input/>
        <output/>
      </node>
      <node kind="START_WHITE_BALL" id="4">
        <input/>
        <output>
          <port num="0" edge="1"/>
        </output>
        <!-- port #, edge ID -->
      </node>
      <node kind="START_NO_BALL" id="6">
        <input/>
        <output>
          <port num="0" edge="3"/>
        </output>
      </node>
      <node kind="OUTGOING" id="8">
        <input>
          <port num="0" edge="1"/>
          <port num="1" edge="3"/>
        </input>
        <output/>
      </node>
      <edge var="theVector" pinch="false" width="wide" id="1">
        <from>
          <noderef id="4" port="0"/>
        </from>
        <!-- node ID, port #-->
        <to>
          <noderef id="8" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="3">
        <from>
          <noderef id="6" port="0"/>
        </from>
        <to>
          <noderef id="8" port="1"/>
        </to>
      </edge>
    </board>
    <board name="isFull">
      <node kind="INCOMING" id="10">
        <input/>
        <output>
          <port num="0" edge="5"/>
          <port num="1" edge="7"/>
        </output>
      </node>
      <node kind="OUTGOING" id="12">
        <input>
          <port num="0" edge="5"/>
          <port num="1" edge="7"/>
        </input>
        <output/>
      </node>
      <edge var="theVector" pinch="true" width="wide" id="5">
        <from>
          <noderef id="10" port="0"/>
        </from>
        <to>
          <noderef id="12" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="7">
        <from>
          <noderef id="10" port="1"/>
        </from>
        <to>
          <noderef id="12" port="1"/>
        </to>
      </edge>
    </board>
    <board name="isEmpty">
      <node kind="INCOMING" id="26">
        <input/>
        <output>
          <port num="0" edge="9"/>
          <port num="1" edge="11"/>
        </output>
      </node>
      <node kind="OUTGOING" id="28">
        <input>
          <port num="0" edge="9"/>
          <port num="1" edge="11"/>
        </input>
        <output/>
      </node>
      <edge var="theVector" pinch="true" width="wide" id="9">
        <from>
          <noderef id="26" port="0"/>
        </from>
        <to>
          <noderef id="28" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="11">
        <from>
          <noderef id="26" port="1"/>
        </from>
        <to>
          <noderef id="28" port="1"/>
        </to>
      </edge>
    </board>
    <board name="top">
      <node kind="INCOMING" id="14">
        <input/>
        <output>
          <port num="0" edge="13"/>
          <port num="1" edge="15"/>
        </output>
      </node>
      <node kind="SUBNETWORK" name="isEmpty" id="16">
        <input>
          <port num="0" edge="13"/>
          <port num="1" edge="15"/>
        </input>
        <output>
          <port num="0" edge="17"/>
          <port num="1" edge="19"/>
        </output>
      </node>
      <node kind="SPLIT" id="18">
        <input>
          <port num="0" edge="19"/>
        </input>
        <output>
          <port num="0" edge="21"/>
          <port num="1" edge="23"/>
        </output>
      </node>
      <node kind="START_BLACK_BALL" id="20">
        <input/>
        <output>
          <port num="0" edge="25"/>
        </output>
      </node>
      <node kind="MERGE" id="22">
        <input>
          <port num="0" edge="23"/>
          <port num="1" edge="25"/>
        </input>
        <output>
          <port num="0" edge="27"/>
        </output>
      </node>
      <node kind="OUTGOING" id="24">
        <input>
          <port num="0" edge="17"/>
          <port num="1" edge="21"/>
          <port num="2" edge="27"/>
        </input>
        <output/>
      </node>
      <edge var="theVector" pinch="false" width="wide" id="13">
        <from>
          <noderef id="14" port="0"/>
        </from>
        <to>
          <noderef id="16" port="0"/>
        </to>
      </edge>
      <edge var="theVector" pinch="true" width="wide" id="17">
        <from>
          <noderef id="16" port="0"/>
        </from>
        <to>
          <noderef id="24" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="15">
        <from>
          <noderef id="14" port="1"/>
        </from>
        <to>
          <noderef id="16" port="1"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="19">
        <from>
          <noderef id="16" port="1"/>
        </from>
        <to>
          <noderef id="18" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="21">
        <from>
          <noderef id="18" port="0"/>
        </from>
        <to>
          <noderef id="24" port="1"/>
        </to>
      </edge>
      <edge var="top.return" pinch="false" width="wide" id="23">
        <from>
          <noderef id="18" port="1"/>
        </from>
        <to>
          <noderef id="22" port="0"/>
        </to>
      </edge>
      <edge var="top.return" pinch="false" width="wide" id="25">
        <from>
          <noderef id="20" port="0"/>
        </from>
        <to>
          <noderef id="22" port="1"/>
        </to>
      </edge>
      <edge var="top.return" pinch="false" width="wide" id="27">
        <from>
          <noderef id="22" port="0"/>
        </from>
        <to>
          <noderef id="24" port="2"/>
        </to>
      </edge>
    </board>
    <board name="makeEmpty">
      <node kind="INCOMING" id="28">
        <input/>
        <output>
          <port num="0" edge="29"/>
          <port num="1" edge="31"/>
        </output>
      </node>
      <node kind="RESTART_WHITE_BALL" id="30">
        <input>
          <port num="0" edge="29"/>
        </input>
        <output>
          <port num="0" edge="33"/>
        </output>
      </node>
      <node kind="RESTART_NO_BALL" id="32">
        <input>
          <port num="0" edge="31"/>
        </input>
        <output>
          <port num="0" edge="35"/>
        </output>
      </node>
      <node kind="OUTGOING" id="34">
        <input>
          <port num="0" edge="33"/>
          <port num="1" edge="35"/>
        </input>
        <output/>
      </node>
      <edge var="theVector" pinch="false" width="wide" id="29">
        <from>
          <noderef id="28" port="0"/>
        </from>
        <to>
          <noderef id="30" port="0"/>
        </to>
      </edge>
      <edge var="theVector" pinch="false" width="wide" id="33">
        <from>
          <noderef id="30" port="0"/>
        </from>
        <to>
          <noderef id="34" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="31">
        <from>
          <noderef id="28" port="1"/>
        </from>
        <to>
          <noderef id="30" port="1"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="35">
        <from>
          <noderef id="30" port="1"/>
        </from>
        <to>
          <noderef id="34" port="1"/>
        </to>
      </edge>
    </board>
    <board name="pop">
      <node kind="INCOMING" id="36">
        <input/>
        <output>
          <port num="0" edge="37"/>
          <port num="1" edge="39"/>
        </output>
      </node>
      <node kind="SUBNETWORK" name="isEmpty" id="38">
        <input>
          <port num="0" edge="37"/>
          <port num="1" edge="39"/>
        </input>
        <output>
          <port num="0" edge="41"/>
          <port num="1" edge="43"/>
        </output>
      </node>
      <node kind="OUTGOING" id="40">
        <input>
          <port num="0" edge="41"/>
          <port num="1" edge="43"/>
        </input>
        <output/>
      </node>
      <edge var="theVector" pinch="false" width="wide" id="37">
        <from>
          <noderef id="36" port="0"/>
        </from>
        <to>
          <noderef id="38" port="0"/>
        </to>
      </edge>
      <edge var="theVector" pinch="true" width="wide" id="41">
        <from>
          <noderef id="38" port="0"/>
        </from>
        <to>
          <noderef id="40" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="39">
        <from>
          <noderef id="36" port="1"/>
        </from>
        <to>
          <noderef id="38" port="1"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="43">
        <from>
          <noderef id="38" port="1"/>
        </from>
        <to>
          <noderef id="40" port="1"/>
        </to>
      </edge>
    </board>
    <board name="topAndPop">
      <node kind="INCOMING" id="50">
        <input/>
        <output>
          <port num="0" edge="57"/>
          <port num="1" edge="59"/>
        </output>
      </node>
      <node kind="SUBNETWORK" name="isEmpty" id="52">
        <input>
          <port num="0" edge="57"/>
          <port num="1" edge="59"/>
        </input>
        <output>
          <port num="0" edge="61"/>
          <port num="1" edge="63"/>
        </output>
      </node>
      <node kind="SUBNETWORK" name="top" id="54">
        <input>
          <port num="0" edge="61"/>
          <port num="1" edge="63"/>
        </input>
        <output>
          <port num="0" edge="65"/>
          <port num="1" edge="67"/>
          <port num="2" edge="69"/>
        </output>
      </node>
      <node kind="START_BLACK_BALL" id="56">
        <input/>
        <output>
          <port num="0" edge="71"/>
        </output>
      </node>
      <node kind="MERGE" id="58">
        <input>
          <port num="0" edge="69"/>
          <port num="1" edge="71"/>
        </input>
        <output>
          <port num="0" edge="73"/>
        </output>
      </node>
      <node kind="OUTGOING" id="60">
        <input>
          <port num="0" edge="65"/>
          <port num="1" edge="67"/>
          <port num="2" edge="73"/>
        </input>
        <output/>
      </node>
      <edge var="theVector" pinch="false" width="wide" id="57">
        <from>
          <noderef id="50" port="0"/>
        </from>
        <to>
          <noderef id="52" port="0"/>
        </to>
      </edge>
      <edge var="theVector" pinch="false" width="wide" id="61">
        <from>
          <noderef id="52" port="0"/>
        </from>
        <to>
          <noderef id="54" port="0"/>
        </to>
      </edge>
      <edge var="theVector" pinch="true" width="wide" id="65">
        <from>
          <noderef id="54" port="0"/>
        </from>
        <to>
          <noderef id="60" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="59">
        <from>
          <noderef id="50" port="1"/>
        </from>
        <to>
          <noderef id="52" port="1"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="63">
        <from>
          <noderef id="52" port="1"/>
        </from>
        <to>
          <noderef id="54" port="1"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="67">
        <from>
          <noderef id="54" port="1"/>
        </from>
        <to>
          <noderef id="60" port="1"/>
        </to>
      </edge>
      <edge var="topAndPop.return" pinch="false" width="wide" id="69">
        <from>
          <noderef id="54" port="2"/>
        </from>
        <to>
          <noderef id="58" port="0"/>
        </to>
      </edge>
      <edge var="topAndPop.return" pinch="false" width="wide" id="71">
        <from>
          <noderef id="56" port="0"/>
        </from>
        <to>
          <noderef id="58" port="1"/>
        </to>
      </edge>
      <edge var="topAndPop.return" pinch="false" width="wide" id="73">
        <from>
          <noderef id="58" port="0"/>
        </from>
        <to>
          <noderef id="60" port="2"/>
        </to>
      </edge>
    </board>
    <board name="push">
      <node kind="INCOMING" id="42">
        <input/>
        <output>
          <port num="0" edge="45"/>
          <port num="1" edge="47"/>
          <port num="2" edge="49"/>
        </output>
      </node>
      <node kind="SUBNETWORK" name="isFull" id="44">
        <input>
          <port num="0" edge="45"/>
          <port num="1" edge="47"/>
        </input>
        <output>
          <port num="0" edge="51"/>
          <port num="1" edge="53"/>
        </output>
      </node>
      <node kind="MERGE" id="46">
        <input>
          <port num="0" edge="53"/>
          <port num="1" edge="49"/>
        </input>
        <output>
          <port num="0" edge="55"/>
        </output>
      </node>
      <node kind="OUTGOING" id="48">
        <input>
          <port num="0" edge="51"/>
          <port num="1" edge="55"/>
        </input>
        <output/>
      </node>
      <edge var="theVector" pinch="false" width="wide" id="45">
        <from>
          <noderef id="42" port="0"/>
        </from>
        <to>
          <noderef id="44" port="0"/>
        </to>
      </edge>
      <edge var="theVector" pinch="true" width="wide" id="51">
        <from>
          <noderef id="44" port="0"/>
        </from>
        <to>
          <noderef id="48" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="47">
        <from>
          <noderef id="42" port="1"/>
        </from>
        <to>
          <noderef id="44" port="1"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="53">
        <from>
          <noderef id="44" port="1"/>
        </from>
        <to>
          <noderef id="46" port="0"/>
        </to>
      </edge>
      <edge var="theVector.elts" pinch="false" width="narrow" id="55">
        <from>
          <noderef id="46" port="0"/>
        </from>
        <to>
          <noderef id="48" port="1"/>
        </to>
      </edge>
      <edge var="push.param1" pinch="false" width="wide" id="49">
        <from>
          <noderef id="42" port="2"/>
        </from>
        <to>
          <noderef id="46" port="1"/>
        </to>
      </edge>
    </board>
  </boards-map>
</level>
